<!-- speech-to-text.component.html -->
<header class="navbar-light navbar-sticky navbar-transparent">
  <nav class="navbar navbar-expand-xl">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img class="light-mode-item navbar-brand-item" src="assets/images/logoars.png" alt="logo" style="width: 140px; height: auto;">
        <img class="dark-mode-item navbar-brand-item" src="assets/images/logo-light.svg" alt="logo">
      </a>

      <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
              aria-controls="navbarCollapse" aria-expanded="true" aria-label="Toggle navigation">
        <span class="me-2"><i class="fas fa-search fs-5"></i></span>
      </button>

      <div class="dropdown ms-1 ms-lg-0">
        <a class="avatar avatar-sm p-0" href="#" id="profileDropdown" role="button" data-bs-auto-close="outside" data-bs-display="static" data-bs-toggle="dropdown" aria-expanded="false">
          <img class="avatar-img rounded-circle" src="assets/images/avatar/01.jpg" alt="avatar">
        </a>
        <ul class="dropdown-menu dropdown-animation dropdown-menu-end shadow pt-3" aria-labelledby="profileDropdown">
          <li class="px-3">
            <div class="d-flex align-items-center">
              <div class="avatar me-3">
                <img class="avatar-img rounded-circle shadow" src="assets/images/avatar/01.jpg" alt="avatar">
              </div>
              <div>
                <a class="h6" href="#">Lori Ferguson</a>
                <p class="small m-0">examail.com</p>
              </div>
            </div>
            <hr>
          </li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-person fa-fw me-2"></i>Edit Profile</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-gear fa-fw me-2"></i>Account Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item bg-danger-soft-hover" href="#"><i class="bi bi-power fa-fw me-2"></i>Sign Out</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<main>
  <div class="container">
    <div class="row position-relative">
      <figure class="position-absolute top-0 start-0 d-none d-sm-block">
        <svg width="22px" height="22px" viewbox="0 0 22 22">
          <polygon class="fill-purple" points="22,8.3 13.7,8.3 13.7,0 8.3,0 8.3,8.3 0,8.3 0,13.7 8.3,13.7 8.3,22 13.7,22 13.7,13.7 22,13.7 "></polygon>
        </svg>
      </figure>

      <div class="col-lg-10 mx-auto text-center position-relative">
        <figure class="position-absolute top-50 end-0 translate-middle-y">
          <svg width="27px" height="27px">
            <path class="fill-orange" d="M13.122,5.946 L17.679,-0.001 L17.404,7.528 L24.661,5.946 L19.683,11.533 L26.244,15.056 L18.891,16.089 L21.686,23.068 L15.400,19.062 L13.122,26.232 L10.843,19.062 L4.557,23.068 L7.352,16.089 L-0.000,15.056 L6.561,11.533 L1.582,5.946 L8.839,7.528 L8.565,-0.001 L13.122,5.946 Z"></path>
          </svg>
        </figure>

        <div class="d-flex justify-content-center position-relative">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
              <li class="breadcrumb-item"><a routerLink="/reading">Reading</a></li>
              <li class="breadcrumb-item active" aria-current="page">Speech to Text</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>


    <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <form id="speechToTextForm" (ngSubmit)="onUpload()">
          <!-- File input -->
          <div class="mb-3">
            <label for="fileInput" class="form-label">Upload Audio File</label>
            <input type="file" class="form-control" id="fileInput" (change)="onFileSelected($event)">
          </div>

          <!-- Language selection -->
          <div class="mb-3" *ngIf="selectedLanguage !== null && selectedLanguage !== undefined">
            <label for="languageSelect" class="form-label">Choose Language</label>
            <select class="form-select" id="languageSelect" [(ngModel)]="selectedLanguage" (change)="updateSelectedLanguage($event)">
              <option value="fr">French</option>
              <option value="ar">Arabic</option>
              <option value="ang">English</option>
            </select>
            
            
          
          </div>

          <!-- Submit button -->
          <button type="submit" class="btn btn-primary">Upload</button>

          <!-- Loading indicator -->
          <div *ngIf="loading" class="text-center">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <p>Loading audio...</p>
          </div>

          <!-- Text result -->
          <div *ngIf="textResult" class="mt-3">
            <h5>Converted Text:</h5>
            <p>{{ textResult }}</p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
</main>
